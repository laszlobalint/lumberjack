<div class="d-flex justify-center items-center">
  <nb-card class="w-100 w-100 m-md-4"
    accent="primary">
    <nb-card-header>New Purchase</nb-card-header>
    <nb-card-body>
      <form class="d-flex flex-column items-center"
        [formGroup]="form">

        <!-- Purchase -->

        <div class="row w-100">
          <div class="col-12 col-sm-6 col-md-4 col-lg-2 form-group">
            <label for="inputAmount"
              class="label">Amount</label>
            <input nbInput
              fullWidth
              id="inputAmount"
              placeholder="Amount"
              formControlName="amount">
          </div>

          <div class="col-12 col-sm-6 col-md-8 col-lg-5 form-group">
            <label for="inputProductId"
              class="label">Product</label>
            <nb-select fullWidth
              id="inputProductId"
              placeholder="Select a product"
              formControlName="productId">
              <nb-option *ngFor="let product of products$ | async"
                [value]="product.id">{{ product.name }}</nb-option>
            </nb-select>
          </div>

          <div class="col-12 col-lg-5 row w-100">
            <div class="col form-group mr-1">
              <label for="inputPrice"
                class="label">Price</label>
              <input nbInput
                fullWidth
                id="inputPrice"
                placeholder="Price"
                formControlName="price">
            </div>

            <div class="col-3 d-flex align-items-center bg-light-gray border-fuchsia">
              <nb-checkbox class="align-self-center ">
                <span>Custom</span>
              </nb-checkbox>
            </div>
          </div>
        </div>

        <hr>

        <!-- Customer -->

        <div class="row w-100">
          <div class="col form-group">
            <label for="inputCustomerId"
              class="label">Customer</label>
            <nb-select fullWidth
              id="inputCustomerId"
              placeholder="Select a customer"
              formControlName="customerId">
              <nb-option [value]="null">None</nb-option>
              <nb-option *ngFor="let customer of customers$ | async"
                [value]="customer.id">{{ customer.name }}</nb-option>
            </nb-select>
          </div>

          <div class="col-12 col-md-2 d-flex align-items-center mt-0 mt-md-3">
            <nb-toggle [(checked)]="enableCustomerEdit"
              [disabled]="!form.get('customerId').value">Edit</nb-toggle>
          </div>
        </div>

        <div formGroupName="customer">
          <div class="row w-100">
            <div class="col-12 col-lg-6 form-group">
              <label for="inputAddress"
                class="label">Address</label>
              <input type="text"
                nbInput
                fullWidth
                id="inputAddress"
                placeholder="Address"
                formControlName="address">
            </div>

            <div class="col-12 col-sm-6 col-lg-3 form-group">
              <label for="inputName"
                class="label">Name</label>
              <input type="tel"
                nbInput
                fullWidth
                id="inputName"
                placeholder="Name"
                formControlName="name">
            </div>

            <div class="col-12 col-sm-6 col-lg-3 form-group">
              <label for="inputPhone"
                class="label">Phone</label>
              <input type="tel"
                nbInput
                fullWidth
                id="inputPhone"
                placeholder="Phone"
                formControlName="phone">
            </div>
          </div>

          <div class="row w-100">
            <div class="col form-group">
              <label for="inputCustomerDescription"
                class="label">Customer Description</label>
              <textarea nbInput
                fullWidth
                placeholder="Customer description..."
                formControlName="description"></textarea>
            </div>
          </div>

          <div class="row w-100">
            <div class="col-6 col-md form-group">
              <label for="inputCompanyName"
                class="label">Company Name</label>
              <input nbInput
                fullWidth
                fieldSize="small"
                id="inputCompanyName"
                placeholder="Company Name"
                formControlName="companyName">
            </div>

            <div class="col-6 col-md form-group">
              <label for="inputTaxId"
                class="label">Tax Id</label>
              <input nbInput
                fullWidth
                fieldSize="small"
                id="inputTaxId"
                placeholder="Tax Id"
                formControlName="taxId">
            </div>

            <div class="col-6 col-md form-group">
              <label for="inputNationalId"
                class="label">National Id</label>
              <input nbInput
                fullWidth
                fieldSize="small"
                id="inputNationalId"
                placeholder="National Id"
                formControlName="nationalId">
            </div>

            <div class="col-6 col-md form-group">
              <label for="inputCheckingAccount"
                class="label">Checking Account</label>
              <input nbInput
                fullWidth
                fieldSize="small"
                id="inputCheckingAccount"
                placeholder="Checking Account"
                formControlName="checkingAccount">
            </div>
          </div>
        </div>
        <hr>

        <!-- Purchase description -->

        <div class="row w-100">
          <div class="col form-group">
            <label for="inputDescription"
              class="label">Description</label>
            <textarea nbInput
              fullWidth
              placeholder="Description..."
              formControlName="description"></textarea>
          </div>
        </div>

        <div class="row w-100 d-flex justify-content-end p-3">
          <button nbButton
            type="submit"
            size="large">
            <nb-icon icon="save"></nb-icon>Save
          </button>
        </div>
      </form>
    </nb-card-body>
  </nb-card>
</div>
